<div class="d-flex flex-column w-100">
    <div class="w-100 p-4" *ngIf="errors.length != 0 || success.length != 0">
        <div #successAlerts class="alert alert-success alert-dismissible fade show" role="alert" *ngFor="let success_message of success">
            <span>{{success_message}}</span>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" (click)="success=[]"></button>
        </div>
        <div #errorAlerts class="alert alert-danger alert-dismissible fade show" role="alert" *ngFor="let error_message of errors">
            <span>{{error_message}}</span>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" (click)="errors=[]"></button>
        </div>
    </div>
    <div class="d-flex flex-row justify-content-around h-50 p-4">
        <div class="w-25 rounded border border-dark d-flex flex-column justify-content-between align-items-center">
            <div class="ms-auto me-2 mt-2">
                <button class="bg-transparent border-0" type="button" (click)="uploadPhoto()">
                <i class="bi bi-camera-fill"></i>
              </button>
            </div>
            <img src="../../assets/img/user_logo.png" class="rounded-circle p-1 img-fluid" width="120" height="120" alt="Imagem de Perfil">
            <div class="user-info p-2 text-center">
                <p class="h4 m-0">{{name}}</p>
                <p class="h6">{{role}}</p>
            </div>
            <div class="ms-auto me-2 mb-2">
                <button class="bg-transparent border-0" type="button" (click)="editProfile()">
              <i class="bi bi-pencil-fill text-muted"></i>
            </button>
            </div>
        </div>
        <div class="h-100 w-75 ms-5">
            <h3>Sobre {{name}}</h3>
            <p>descrição_do_utilizador</p>
            <button type="button" class="btn btn-success position-absolute bottom-0 end-0 mb-3 me-3" *ngIf="isEditing" (click)="saveProfile()">Salvar alterações<i class="bi bi-floppy-fill ms-2"></i></button>
        </div>
    </div>
    <hr class="hr" />
    <div class="d-flex flex-row justify-content-between p-3">
        <div class="col-4">
            <p class="mt-3">Nome</p>
            <input type="text" #nameInput class="form-control" id="name" placeholder="user_name" disabled>
            <p class="mt-3">Email</p>
            <input type="text" #emailInput class="form-control" id="email" placeholder="user_email" disabled>
        </div>
        <div class="col-6 align-self-center">
            <div class="d-flex flex-column">
                <button type="button" class="btn btn-outline-secondary mb-2">Visualizar histórico de reservas<i class="bi bi-journals ms-2"></i></button>
                <button type="button" class="btn btn-outline-secondary mb-2">Visualizar grupos de reserva<i class="bi bi-people ms-2"></i></button>
            </div>
        </div>
    </div>
</div>