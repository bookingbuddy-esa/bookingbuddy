<!--<div *ngIf="!submitting" class="main d-flex flex-column justify-content-between ">
  <div class="d-flex flex-column  justify-content-center">
    <div *ngIf="errors.length !== 0"
         class="alert alert-danger alert-dismissible d-flex w-100 align-items-center fade show mt-2" role="alert">
      <button type="button" class="btn-close align-self-center" data-bs-dismiss="alert" aria-label="Close"
              (click)="errors=[]"></button>
      <div class="d-flex flex-column align-items-start">
        <span *ngFor="let error of errors">{{ error }}</span>
      </div>
    </div>

    <form class="align-items-center justify-content-center" [formGroup]="createPropertyAdForm"
          (submit)="create($event)">
      <div class="text-center">
        <div class="page-title mt-5">Criação de Anúncio</div>
        <h5 class="p-2 mb-4">Preencha os seguintes campos:</h5>

        <div class="input-group row">
          <div class="col-12 col-md-5" align="right">
            <label> Nome do anúncio: </label>
          </div>
          <div class="col-12 col-md-7">
            <div class="col-12 col-md-6 mb-3">
              <input class="form-control" name="name" formControlName="name"
                     [ngClass]="{'is-valid':nameFormField?.valid && nameFormField?.dirty,'is-invalid':nameFormField?.invalid && nameFormField?.dirty}"/>
              <div class="invalid-feedback">O nome do anúncio é obrigatório!</div>
            </div>
          </div>
        </div>

        <div class="input-group row">
          <div class="col-12 col-md-5" align="right">
            <div class="fix-display">
              <label class="fs-5" style="display: block;"> Descrição do anúncio: </label>
              <label class="fs-10" style="display: block;">(máximo de 500 caracteres)</label>
            </div>
          </div>
          <div class="col-12 col-md-7">
            <div class="col-12 col-md-6">
              <textarea class="form-control mb-3" maxlength="500" name="description"
                        formControlName="description"> </textarea>
            </div>
          </div>
        </div>


        <div class="input-group row">
          <div class="col-12 col-md-5" align="right">
            <label> Localização: </label>
          </div>
          <div class="col-12 col-md-7">
            <div class="col-12 col-md-6 mb-3">
              <input id="location" type="text" class="form-control" maxlength="100" name="location"
                     formControlName="location"
                     [ngClass]="{'is-valid':locationFormField?.valid && locationFormField?.dirty,'is-invalid':locationFormField?.invalid && locationFormField?.dirty}"/>
              <div class="invalid-feedback">A localização é obrigatória!</div>
            </div>
          </div>
        </div>
        <google-map class="d-flex justify-content-center mb-5"
                    width="50%"
                    [center]="center"
                    [zoom]="zoom"
                    (mapClick)="setLocation($event)">
          <map-marker *ngIf="display" [position]="display"></map-marker>
        </google-map>

        <div class="input-group row">
          <div class="col-12 col-md-5" align="right">
            <label> Preço p/noite em €: </label>
          </div>
          <div class="col-12 col-md-7">
            <div class="col-12 col-md-6">
              <input class="form-control mb-3" name="pricePerNight" formControlName="pricePerNight"/>
            </div>
          </div>
        </div>

      </div>

      <div class="text-center container mb-5 mt-3">
        <h3 class="mt-5 mb-2">Comodidades</h3>
        <div class="row marginForRow">
          <div class="col-lg-4 col-md-6 col-sm-12 mx-auto" align="left" *ngFor="let comodidade of comodidades">
            <input type="checkbox" [value]="comodidade" (change)="atualizarSelecionadas(comodidade)"> {{ comodidade }}
          </div>
        </div>
      </div>


      <div class="col-12 col-md-6 mx-auto text-center mb-5 mt-5">
        <span>Anexar imagens da propriedade:</span>
        <input class="form-control custom-small-input mx-auto" name="files" type="file"
               (change)="onFileSelected($event)" multiple>
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-outline-success mb-5">Registar Propriedade</button>
      </div>
    </form>
  </div>
</div>-->

<div class="w-100 d-flex flex-column align-items-center justify-content-between">
  <div class="w-100 flex-grow-1 p-5 d-flex flex-column flex-column align-items-center justify-content-center">
    <div class="fs-1 p-3 fw-bold">Onde fica o seu espaço?</div>
    <div class="fs-6 p-2">O seu endereço só é partilhado com os hóspedes depois de eles terem feito a reserva.</div>
    <form class="d-flex w-100 align-items-center justify-content-center p5" [formGroup]="locationForm">
      <div class="input-form-field input-group has-validation py-3 ">
        <i class="input-group-text bi bi-geo-alt-fill"
           [ngClass]="{'text-success':locationFormField?.valid && locationFormField?.dirty,'text-danger':locationFormField?.invalid && locationFormField?.dirty}"></i>
        <input type="text" id="location" class="form-control" formControlName="location"
               placeholder="Introduza a localização da sua propriedade"
               [ngClass]="{'is-valid':locationFormField?.valid && locationFormField?.dirty,'is-invalid':locationFormField?.invalid && locationFormField?.dirty}"/>
        <div id="validationServerUsernameFeedback" class="invalid-feedback">
          Por favor introduza a localização da sua propriedade.
        </div>
      </div>
    </form>
    <div class="google-maps mx-auto h-100">
      <google-map class="mb-5"
                  width="100%"
                  height="100%"
                  [center]="center"
                  [zoom]="zoom"
                  [options]="options">
        <map-marker *ngIf="display" [position]="display" [options]="markerOptions"></map-marker>
      </google-map>
    </div>
  </div>
  <div class="d-flex flex-column align-items-start justify-content-start"
       style="width: 100vw;height: 12%">
    <div class="progress w-100 rounded-0" role="progressbar" aria-label="Basic example" aria-valuenow="0"
         aria-valuemin="0" aria-valuemax="100">
      <div class="progress-bar"
           [ngClass]="{'progress-bar-0': completePercentage === 0 ,'progress-bar-33': completePercentage <= 33 && completePercentage > 0, 'progress-bar-66': completePercentage > 33 && completePercentage <= 66, 'progress-bar-100': completePercentage > 66}"></div>
    </div>
    <div class="w-100 h-100 d-flex flex-row align-items-center justify-content-between">
      <button class="bottom-button btn btn-danger px-2 mx-5 h-50" (click)="completePercentage=0">Cancelar</button>
      <button class="bottom-button btn btn-primary px-2 mx-5 h-50"
              (click)="completePercentage + 33 <= 100 ? completePercentage=completePercentage + 33 : 100">
        Continuar
      </button>
    </div>
  </div>
</div>

<div *ngIf="submitting" class="d-flex w-100 h-100 flex-column align-items-center justify-content-center">
  <app-loader></app-loader>
</div>
