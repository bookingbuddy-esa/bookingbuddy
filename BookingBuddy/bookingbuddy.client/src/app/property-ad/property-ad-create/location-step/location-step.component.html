<div class="d-flex w-100 h-100 flex-column align-items-center">
  <div class="d-flex flex-column align-items-center justify-content-center p-5 w-50 flex-grow-1">
    <div class="fs-1 p-3 fw-bold">Onde fica a sua propriedade?</div>
    <div class="fs-6 p-2">O seu endereço só é partilhado com os hóspedes depois de eles terem feito a reserva.</div>
    <form class="d-flex w-100 align-items-center justify-content-center p5" [formGroup]="locationForm">
      <div class="input-form-field input-group has-validation py-3 w-75">
        <i class="input-group-text bi bi-geo-alt-fill"
           [ngClass]="{'text-success':locationFormField?.valid && locationFormField?.dirty,'text-danger':locationFormField?.invalid && locationFormField?.dirty}"></i>
        <input type="text" id="location" class="form-control" formControlName="location"
               placeholder="Introduza a localização da sua propriedade"
               [ngClass]="{'is-valid':locationFormField?.valid && locationFormField?.dirty,'is-invalid':locationFormField?.invalid && locationFormField?.dirty}"/>
        <div id="validationServerUsernameFeedback" class="invalid-feedback">
          Por favor introduza a localização da sua propriedade.
        </div>
      </div>
    </form>
    <div class="google-maps w-75 h-100">
      <google-map class="mb-5"
                  width="100%"
                  height="100%"
                  [center]="center"
                  [zoom]="zoom"
                  (mapClick)="setLocation($event)"
                  [options]="options">
        <map-marker *ngIf="display" [position]="display" [options]="markerOptions"></map-marker>
      </google-map>
    </div>
  </div>
  <div class="d-flex flex-column w-100" style="height: 12%">
    <div class="progress w-100 rounded-0" role="progressbar" aria-label="Progress Bar" aria-valuemin="0"
         aria-valuemax="100">
      <div class="progress-bar" [style.width.%]="currentPercentage"></div>
    </div>
    <div class="d-flex flex-row h-100 w-100 align-items-center justify-content-between px-5">
      <button class="btn btn-secondary h-50 bottom-button" (click)="previousStep.emit();locationSubmit.emit()">Anterior</button>
      <button class="btn btn-primary h-50 bottom-button" (click)="nextStep.emit();locationSubmit.emit(display)"
              [disabled]="!locationForm.valid">Próximo
      </button>
    </div>
  </div>
</div>
